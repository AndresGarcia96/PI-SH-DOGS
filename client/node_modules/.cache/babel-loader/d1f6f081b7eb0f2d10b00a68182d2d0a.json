{"ast":null,"code":"import _slicedToArray from\"/Users/andy/Desktop/Soy Henry || Full Stack/PROYECTO INDIVIDUAL/PI-SH-DOGS/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useSelector}from\"react-redux\";import DogCard from\"../dogCard/DogCard\";import Pagination from\"../pagination/Pagination\";import\"./dogsList.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DogsList=function DogsList(){var breeds=useSelector(function(state){return state.breeds;});var currentPage=useSelector(function(state){return state.currentPage;});var breedsPerPage=useSelector(function(state){return state.breedsPerPage;});var selectedOrigin=useSelector(function(state){return state.selectedOrigin;});var selectedTemperament=useSelector(function(state){return state.selectedTemperament;});var sortOrder=useSelector(function(state){return state.sortOrder;});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),computedBreeds=_useState2[0],setComputedBreeds=_useState2[1];var paginate=function paginate(breedsList){return breedsList.slice((currentPage-1)*breedsPerPage,currentPage*breedsPerPage);};useEffect(function(){var temporalBreeds=breeds;if(selectedOrigin){temporalBreeds=temporalBreeds.filter(function(b){return b.source===selectedOrigin;});}if(selectedTemperament){temporalBreeds=temporalBreeds.filter(function(b){var _b$temperaments;return(_b$temperaments=b.temperaments)===null||_b$temperaments===void 0?void 0:_b$temperaments.some(function(t){return t===selectedTemperament;});});}if(sortOrder){if(sortOrder===\"ascName\"){temporalBreeds.sort(function(a,b){return a.name.localeCompare(b.name);});}else if(sortOrder===\"descName\"){temporalBreeds.sort(function(a,b){return b.name.localeCompare(a.name);});}if(sortOrder===\"ascWeight\"){temporalBreeds.sort(function(a,b){return parseInt(a.weight)-parseInt(b.weight);});}else if(sortOrder===\"descWeight\"){temporalBreeds.sort(function(a,b){return parseInt(b.weight)-parseInt(a.weight);});}}setComputedBreeds(temporalBreeds);return function(){setComputedBreeds(breeds);};},[selectedOrigin,selectedTemperament,breeds,sortOrder]);return/*#__PURE__*/_jsxs(\"div\",{className:\"dogsList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:/*#__PURE__*/_jsx(Pagination,{total:computedBreeds.length})}),/*#__PURE__*/_jsx(\"div\",{className:\"dogCardAllDogs\",children:paginate(computedBreeds).map(function(breed){return/*#__PURE__*/_jsx(DogCard,{breed:breed},breed.id);})})]});};export default DogsList;","map":{"version":3,"names":["React","useState","useEffect","useSelector","DogCard","Pagination","jsx","_jsx","jsxs","_jsxs","DogsList","breeds","state","currentPage","breedsPerPage","selectedOrigin","selectedTemperament","sortOrder","_useState","_useState2","_slicedToArray","computedBreeds","setComputedBreeds","paginate","breedsList","slice","temporalBreeds","filter","b","source","_b$temperaments","temperaments","some","t","sort","a","name","localeCompare","parseInt","weight","className","children","total","length","map","breed","id"],"sources":["/Users/andy/Desktop/Soy Henry || Full Stack/PROYECTO INDIVIDUAL/PI-SH-DOGS/client/src/components/dogsList/DogsList.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport DogCard from \"../dogCard/DogCard\";\nimport Pagination from \"../pagination/Pagination\";\nimport \"./dogsList.css\";\n\nconst DogsList = () => {\n  const breeds = useSelector((state) => state.breeds);\n\n  const currentPage = useSelector((state) => state.currentPage);\n  const breedsPerPage = useSelector((state) => state.breedsPerPage);\n\n  const selectedOrigin = useSelector((state) => state.selectedOrigin);\n  const selectedTemperament = useSelector((state) => state.selectedTemperament);\n\n  const sortOrder = useSelector((state) => state.sortOrder);\n\n  const [computedBreeds, setComputedBreeds] = useState([]);\n\n  const paginate = (breedsList) => {\n    return breedsList.slice(\n      (currentPage - 1) * breedsPerPage,\n      currentPage * breedsPerPage\n    );\n  };\n\n  useEffect(() => {\n    let temporalBreeds = breeds;\n\n    if (selectedOrigin) {\n      temporalBreeds = temporalBreeds.filter(\n        (b) => b.source === selectedOrigin\n      );\n    }\n\n    if (selectedTemperament) {\n      temporalBreeds = temporalBreeds.filter((b) =>\n        b.temperaments?.some((t) => t === selectedTemperament)\n      );\n    }\n\n    if (sortOrder) {\n      if (sortOrder === \"ascName\") {\n        temporalBreeds.sort((a, b) => a.name.localeCompare(b.name));\n      } else if (sortOrder === \"descName\") {\n        temporalBreeds.sort((a, b) => b.name.localeCompare(a.name));\n      }\n\n      if (sortOrder === \"ascWeight\") {\n        temporalBreeds.sort((a, b) => parseInt(a.weight) - parseInt(b.weight));\n      } else if (sortOrder === \"descWeight\") {\n        temporalBreeds.sort((a, b) => parseInt(b.weight) - parseInt(a.weight));\n      }\n    }\n\n    setComputedBreeds(temporalBreeds);\n\n    return () => {\n      setComputedBreeds(breeds);\n    };\n  }, [selectedOrigin, selectedTemperament, breeds, sortOrder]);\n\n  return (\n    <div className=\"dogsList\">\n      <div className=\"pagination\">\n        <Pagination total={computedBreeds.length} />\n      </div>\n\n      <div className=\"dogCardAllDogs\">\n        {paginate(computedBreeds).map((breed) => (\n          <DogCard key={breed.id} breed={breed} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default DogsList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}